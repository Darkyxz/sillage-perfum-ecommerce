<!DOCTYPE html>
<html>
<head>
    <title>Test Proxy</title>
</head>
<body>
    <h1>Test del Proxy API</h1>
    <button onclick="testHealth()">Test Health</button>
    <button onclick="testProducts()">Test Products</button>
    <button onclick="testFeatured()">Test Featured</button>
    <button onclick="testDirect()">Test Direct Backend</button>
    
    <div id="results"></div>

    <script>
        function log(message) {
            document.getElementById('results').innerHTML += '<p>' + message + '</p>';
        }

        async function testHealth() {
            log('Testing /api/health...');
            try {
                const response = await fetch('https://sillageperfum.cl/debug-proxy.php?path=api/health');
                const data = await response.json();
                log('Health Result: ' + JSON.stringify(data));
            } catch (error) {
                log('Health Error: ' + error.message);
            }
        }

        async function testProducts() {
            log('Testing /api/products...');
            try {
                const response = await fetch('https://sillageperfum.cl/debug-proxy.php?path=api/products&limit=5');
                const data = await response.json();
                log('Products Result: ' + JSON.stringify(data));
            } catch (error) {
                log('Products Error: ' + error.message);
            }
        }

        async function testFeatured() {
            log('Testing /api/products/featured...');
            try {
                const response = await fetch('https://sillageperfum.cl/debug-proxy.php?path=api/products/featured&limit=3');
                const data = await response.json();
                log('Featured Result: ' + JSON.stringify(data));
            } catch (error) {
                log('Featured Error: ' + error.message);
            }
        }

        async function testDirect() {
            log('Testing direct backend...');
            try {
                const response = await fetch('https://sillage-backend-m5hzs0ps5-sillageperfums-projects.vercel.app/api/health');
                const data = await response.json();
                log('Direct Backend Result: ' + JSON.stringify(data));
            } catch (error) {
                log('Direct Backend Error: ' + error.message);
            }
        }
    </script>
</body>
</html>
