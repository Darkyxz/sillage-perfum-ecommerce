<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/svg+xml" href="/images/icon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Sillage-Perfum - Perfumes Premium</title>
		<meta name="description" content="Descubre nuestra exclusiva colección de perfumes de lujo. Fragancias únicas para cada ocasión especial." />
	</head>
	<body>
		<div id="root"></div>
		
		<!-- Fallback para cuando React no se carga -->
		<script>
			// Detectar si React se carga correctamente
			let reactLoadTimeout;
			let fallbackActivated = false;
			
			function activateFallback() {
				if (fallbackActivated) return;
				fallbackActivated = true;
				
				console.warn('🚨 React no se cargó - Activando fallback');
				window.location.href = '/fallback.html';
			}
			
			// Verificar después de 5 segundos si React se cargó
			reactLoadTimeout = setTimeout(() => {
				const root = document.getElementById('root');
				const hasContent = root && root.innerHTML.length > 100;
				const reactAvailable = typeof React !== 'undefined';
				
				if (!hasContent && !reactAvailable) {
					activateFallback();
				}
			}, 5000);
			
			// Limpiar timeout si React se carga correctamente
			window.addEventListener('load', () => {
				setTimeout(() => {
					const root = document.getElementById('root');
					if (root && root.innerHTML.length > 100) {
						clearTimeout(reactLoadTimeout);
					}
				}, 1000);
			});
			
			// Capturar errores de carga de módulos
			window.addEventListener('error', (event) => {
				if (event.filename && event.filename.includes('main.jsx')) {
					console.error('Error cargando main.jsx:', event.error);
					activateFallback();
				}
			});
		</script>
		
		<script type="module" src="/src/main.jsx"></script>
	</body>
</html>
